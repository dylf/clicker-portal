(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{115:function(e,t){},314:function(e){e.exports=JSON.parse('{"localterra":{"clicker":{"codeId":"8","contractAddresses":{"default":"terra1l09lzlktar3m0hth59z3se86fsyz084map2yln"}}},"testnet":{"clicker":{"codeId":"66471","contractAddresses":{"default":"terra1f5xencxfkxhc36d5mg35zpnpprzscqvdwxhzml"}}}}')},317:function(e,t,n){},436:function(e,t){},438:function(e,t){},448:function(e,t){},450:function(e,t){},463:function(e,t){},465:function(e,t){},553:function(e,t){},595:function(e,t,n){},596:function(e,t,n){},597:function(e,t,n){"use strict";n.r(t);var c=n(20),a=(n(317),n(42)),r=n(64),s=n(4),i=[{name:"Play",link:"/play"},{name:"Leaderboard",link:"/leaderboard"},{name:"How to play",link:"/guide"}],o=function(){return Object(s.jsx)("div",{className:"game-menu",children:i.map((function(e,t){var n=e.name,c=e.link;return Object(s.jsx)(r.b,{to:c,className:"menu-item",children:Object(s.jsx)("span",{className:"item-text",children:n})},t)}))})},l=function(){var e=Object(a.d)(),t=Object(c.a)({},e).terraAddress;return Object(s.jsx)("div",{children:t&&Object(s.jsx)("button",{className:"wallet-address",children:t.slice(0,5)+"..."+t.slice(-4)})})};var j=function(){var e=Object(a.e)(),t=e.status,n=e.connect,c=e.disconnect,r=e.availableConnectTypes;return console.log("Wallet status is ",t),console.log("Available connection types:",r),Object(s.jsxs)("main",{className:"App",children:[Object(s.jsxs)("header",{children:[Object(s.jsxs)("div",{className:"header-titles",children:[Object(s.jsx)("h1",{children:"\u2694 Goblin War \u2694"}),Object(s.jsx)("p",{children:"Join the fight!"})]}),Object(s.jsx)(l,{})]}),t===a.b.WALLET_NOT_CONNECTED&&Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://media.giphy.com/media/B19AYwNXoXtcs/giphy.gif",alt:"Goblin gif"})}),t===a.b.WALLET_CONNECTED&&Object(s.jsx)("div",{className:"game-menu-container",children:Object(s.jsx)(o,{})}),t===a.b.WALLET_NOT_CONNECTED?Object(s.jsx)("div",{className:"connect-wallet-div",children:Object(s.jsx)("button",{type:"button",onClick:function(){return n("EXTENSION")},className:"connect-wallet-button cta-button",children:"Connect Wallet"},"connect-EXTENSION")}):t===a.b.WALLET_CONNECTED?Object(s.jsx)("button",{type:"button",onClick:function(){return c()},className:"cta-button connect-wallet-button",children:"Disconnect"}):void 0]})},u=n(1),d=n.n(u),b=n(313),h=n.n(b),O=n(17),f=(n(595),n(7)),x=n(18),m=n(0),p=n.n(m),v=n(24),w=n(314),g=function(e){return w[e.network.name].clicker.contractAddresses.default},N=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=Date.now()+36e5,y=Date.now()+6e4,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.Fee(2e5,{uluna:1e4});return function(){var n=Object(f.a)(p.a.mark((function n(c){var a,r,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new v.LCDClient({URL:c.network.lcd,chainID:c.network.chainID}),n.next=3,c.post({fee:t,msgs:[new v.MsgExecuteContract(c.walletAddress,g(c),e)]});case 3:r=n.sent,s=r.result;case 5:return n.prev=6,n.next=9,a.tx.txInfo(s.txhash);case 9:return n.abrupt("return",n.sent);case 12:if(n.prev=12,n.t0=n.catch(6),!(Date.now()<y)){n.next=19;break}return n.next=17,N(500);case 17:n.next=25;break;case 19:if(!(Date.now()<k)){n.next=24;break}return n.next=22,N(1e4);case 22:n.next=25;break;case 24:throw new Error("Transaction queued. To verify the status, please check the transaction hash: ".concat(s.txhash));case 25:n.next=5;break;case 27:case"end":return n.stop()}}),n,null,[[6,12]])})));return function(e){return n.apply(this,arguments)}}()},C=function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E({upsert_score:{score:n}})(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=(n(596),function(){return Object(s.jsxs)("div",{className:"lds-ring",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}),S=function(){var e=Object(a.d)(),t=Object(u.useState)(300),n=Object(x.a)(t,2),r=n[0],i=n[1],o=Object(u.useState)(!1),l=Object(x.a)(o,2),j=(l[0],l[1],Object(u.useState)({top:"15%",left:"50%",width:100,height:"auto"})),d=Object(x.a)(j,2),b=d[0],h=d[1],O=Object(u.useState)(!1),m=Object(x.a)(O,2),v=m[0],w=m[1],g=Object(u.useState)(0),N=Object(x.a)(g,2),k=N[0],y=N[1];Object(u.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>0?e-1:0}))}),1e3);return e}),[]),Object(u.useEffect)((function(){0===r&&(h({display:"none"}),alert("Game Over! Your score is ".concat(k,". Please confirm transaction to submit score.")),E())}),[r]);var E=function(){var t=Object(f.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"testnet"!==e.network.name){t.next=9;break}return w(!0),t.next=4,C(e,k);case 4:n=t.sent,console.log(n),alert("Score submitted!"),w(!1),window.location.href="/leaderboard";case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"score-board-container",children:[Object(s.jsxs)("div",{className:"play-container",children:[Object(s.jsxs)("span",{children:["Score: ",k]}),Object(s.jsx)("span",{children:"Fight!"}),Object(s.jsxs)("span",{children:["Time left: ",r," s"]})]}),v?Object(s.jsx)(T,{}):Object(s.jsxs)("div",{className:"game-container",children:[Object(s.jsx)("img",{src:"orc.png",id:"target",alt:"Target",style:Object(c.a)({},b),onClick:function(){var e=new Audio("/Zergling_explodes.mp3");e.volume=.2,e.play(),y((function(e){return e+1})),h({top:"".concat(Math.floor(80*Math.random()),"%"),left:"".concat(Math.floor(80*Math.random()),"%"),width:"".concat(Math.floor(90*Math.random()+10),"px"),height:"auto"})}}),Object(s.jsx)("img",{src:"Marine.png",id:"marine-img",alt:"Marine"})]})]})},A=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Contract address is ",g(t)),n=new v.LCDClient({URL:t.network.lcd,chainID:t.network.chainID}),e.abrupt("return",n.wasm.contractQuery(g(t),{get_scores:{}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.d)(),t=Object(u.useState)([]),n=Object(x.a)(t,2),c=n[0],i=n[1],o=Object(u.useState)(!0),l=Object(x.a)(o,2),j=l[0],d=l[1];Object(u.useEffect)((function(){d(!0);var t=function(){var t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"testnet"!==e.network.name){t.next=6;break}return t.t0=console,t.next=4,A(e);case 4:t.t1=t.sent.scores,t.t0.log.call(t.t0,"Scores fetched",t.t1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(e){i(e)})),d(!1)}),[e]);return Object(u.useEffect)((function(){}),[c]),Object(s.jsxs)("main",{className:"App",children:[Object(s.jsx)("header",{children:Object(s.jsx)(r.b,{to:"/",className:"home-link",children:Object(s.jsxs)("div",{className:"header-titles",children:[Object(s.jsx)("h1",{children:"\u2694 Goblin War \u2694\ufe0f"}),Object(s.jsx)("p",{children:"Only you can save us from Goblin town"})]})})}),Object(s.jsxs)("div",{className:"score-board-container",children:[Object(s.jsx)("h3",{children:"Scoreboard"}),j?Object(s.jsx)("div",{children:"Loading..."}):function(e){return!e||e.length<1?Object(s.jsx)("div",{children:" No scores available :( "}):e.map((function(e,t){return Object(s.jsx)("div",{className:"score",children:Object(s.jsxs)("span",{children:[e[0].slice(0,5)+"..."+e[0].slice(-4),":"," ",e[1].toString().padStart(2,"0")]})},t)}))}(c),Object(s.jsx)("div",{})]})]})},L=function(){return Object(s.jsxs)("main",{className:"App",children:[Object(s.jsx)("header",{children:Object(s.jsx)(r.b,{to:"/",className:"home-link",children:Object(s.jsxs)("div",{className:"header-titles",children:[Object(s.jsx)("h1",{children:"\u2694 Goblin War \u2694\ufe0f"}),Object(s.jsx)("p",{children:"Only you can save us from Goblin town"})]})})}),Object(s.jsxs)("div",{className:"score-board-container",children:[Object(s.jsx)("h3",{children:"How to play"}),Object(s.jsx)("div",{children:Object(s.jsx)("span",{className:"help",children:"Click as many goblins as you can within 15 seconds!"})})]})]})},I="_buildspace",M="https://twitter.com/".concat(I);Object(a.c)().then((function(e){h.a.render(Object(s.jsx)(d.a.StrictMode,{children:Object(s.jsx)(a.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(s.jsxs)("div",{className:"App-header",children:[Object(s.jsx)(r.a,{children:Object(s.jsxs)(O.c,{children:[Object(s.jsx)(O.a,{path:"/",element:Object(s.jsx)(j,{})}),Object(s.jsx)(O.a,{path:"/play",element:Object(s.jsx)(S,{})}),Object(s.jsx)(O.a,{path:"/leaderboard",element:Object(s.jsx)(D,{})}),Object(s.jsx)(O.a,{path:"/guide",element:Object(s.jsx)(L,{})})]})}),Object(s.jsxs)("div",{className:"footer-container",children:[Object(s.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:"/twitter-logo.svg"}),Object(s.jsx)("a",{className:"footer-text",href:M,target:"_blank",rel:"noreferrer",children:"Made with @".concat(I)})]})]})}))}),document.getElementById("root"))}))}},[[597,1,2]]]);
//# sourceMappingURL=main.b700743e.chunk.js.map